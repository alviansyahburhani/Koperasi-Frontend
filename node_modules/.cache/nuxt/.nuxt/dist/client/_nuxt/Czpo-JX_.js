import{g as V,h as L,aa as S,b as m,Y as y,e as t,i as s,k as u,a1 as C,d as N,j as r,ac as f,ad as w,a3 as x,af as j,w as h,ab as A,C as p,a2 as B,o as b,_ as P}from"./iSluKep9.js";import{u as R}from"./DAlLHKAX.js";import{R as D}from"./B9keGLUy.js";import"./BVV2khDz.js";const U={class:"bg-white shadow-xl rounded-2xl p-8"},E={key:0,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},K={class:"flex items-start gap-3"},T={class:"text-sm text-red-800"},q={class:"relative"},I={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},H=["disabled"],Y={class:"relative"},$={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},z=["disabled"],F={class:"flex items-center justify-between"},G={class:"flex items-center"},J=["disabled"],O=["disabled"],Q={key:0},W={key:1,class:"flex items-center justify-center gap-2"},X={class:"text-center"},Z={class:"text-sm text-gray-600"},re=V({__name:"auth",setup(ee){L({title:"Login - Koperasi Merah Putih",meta:[{name:"description",content:"Login ke platform Koperasi Merah Putih"}]});const{login:k}=R(),_=S(),l=p(""),n=p(""),c=p(!1),a=p(!1),d=p("");async function M(){if(!l.value||!n.value){d.value="Email dan password harus diisi";return}a.value=!0,d.value="";try{const o=await k({email:l.value,password:n.value,remember:c.value});if(o.success&&o.user){const{dashboardRoute:e}=D[o.user.role];await _.push(e)}}catch(o){d.value=o.message||"Terjadi kesalahan saat login"}finally{a.value=!1}}return(o,e)=>{const g=P,v=B;return b(),m("div",U,[e[10]||(e[10]=y('<div class="text-center mb-8"><h2 class="text-2xl font-bold text-gray-900">Login Sistem</h2><p class="text-sm text-gray-600 mt-2">Masuk ke akun Anda</p></div><div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"><p class="text-xs font-semibold text-blue-900 mb-2">ðŸ§ª Demo Accounts:</p><div class="text-xs text-blue-800 space-y-1"><p><strong>Superadmin:</strong> superadmin@koperasi.com</p><p><strong>Ketua:</strong> ketua@koperasi.com</p><p><strong>Bendahara:</strong> bendahara@koperasi.com</p><p><strong>Sekretaris:</strong> sekretaris@koperasi.com</p><p><strong>Pengawas:</strong> pengawas@koperasi.com</p><p><strong>Anggota:</strong> anggota@koperasi.com</p><p class="mt-2 text-blue-600">Password: <strong>password</strong> (semua akun)</p></div></div>',2)),t(d)?(b(),m("div",E,[s("div",K,[u(g,{name:"i-lucide-alert-circle",class:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s("p",T,C(t(d)),1)])])):N("",!0),s("form",{class:"space-y-5",onSubmit:A(M,["prevent"])},[s("div",null,[e[3]||(e[3]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},[r(" Email "),s("span",{class:"text-red-500"},"*")],-1)),s("div",q,[s("div",I,[u(g,{name:"i-lucide-mail",class:"h-5 w-5 text-gray-400"})]),f(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>x(l)?l.value=i:null),type:"email",required:"",disabled:t(a),placeholder:"email@example.com",class:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 disabled:bg-gray-100"},null,8,H),[[w,t(l)]])])]),s("div",null,[e[4]||(e[4]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},[r(" Password "),s("span",{class:"text-red-500"},"*")],-1)),s("div",Y,[s("div",$,[u(g,{name:"i-lucide-lock",class:"h-5 w-5 text-gray-400"})]),f(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>x(n)?n.value=i:null),type:"password",required:"",disabled:t(a),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",class:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 disabled:bg-gray-100"},null,8,z),[[w,t(n)]])])]),s("div",F,[s("label",G,[f(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>x(c)?c.value=i:null),type:"checkbox",disabled:t(a),class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,J),[[j,t(c)]]),e[5]||(e[5]=s("span",{class:"ml-2 text-sm text-gray-700"},"Ingat saya",-1))]),u(v,{to:"/auth/lupa-password",class:"text-sm text-red-600 hover:text-red-700 font-medium"},{default:h(()=>[...e[6]||(e[6]=[r(" Lupa password? ",-1)])]),_:1})]),s("button",{type:"submit",disabled:t(a),class:"w-full py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(a)?(b(),m("span",W,[...e[7]||(e[7]=[s("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},null,-1),r(" Memproses... ",-1)])])):(b(),m("span",Q,"Masuk"))],8,O)],32),e[11]||(e[11]=y('<div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Atau</span></div></div>',1)),s("div",X,[s("p",Z,[e[9]||(e[9]=r(" Belum punya akun? ",-1)),u(v,{to:"/pendaftaran/koperasi",class:"text-red-600 hover:text-red-700 font-medium"},{default:h(()=>[...e[8]||(e[8]=[r(" Daftar Sekarang ",-1)])]),_:1})])])])}}});export{re as default};
