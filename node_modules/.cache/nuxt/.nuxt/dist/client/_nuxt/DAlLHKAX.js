import{R as o}from"./BVV2khDz.js";import{al as u,f as i,ah as n}from"./iSluKep9.js";const g=()=>{const r=u("auth-user",()=>{{const e=localStorage.getItem("user");if(e)return JSON.parse(e)}return null}),l=i(()=>!!r.value),m=i(()=>r.value?.role??null),s=async e=>{let a=null;if(e.email==="superadmin@koperasi.com")a={id:"1",name:"Super Admin",email:e.email,role:o.SUPERADMIN};else if(e.email==="ketua@koperasi.com")a={id:"2",name:"Ketua Koperasi",email:e.email,role:o.KETUA,cooperativeId:"1"};else if(e.email==="bendahara@koperasi.com")a={id:"3",name:"Bendahara",email:e.email,role:o.BENDAHARA,cooperativeId:"1"};else if(e.email==="sekretaris@koperasi.com")a={id:"4",name:"Sekretaris",email:e.email,role:o.SEKRETARIS,cooperativeId:"1"};else if(e.email==="pengawas@koperasi.com")a={id:"5",name:"Pengawas",email:e.email,role:o.PENGAWAS,cooperativeId:"1"};else if(e.email==="anggota@koperasi.com")a={id:"6",name:"Anggota Koperasi",email:e.email,role:o.ANGGOTA,cooperativeId:"1"};else throw new Error("Email atau password salah");return r.value=a,e.remember&&localStorage.setItem("user",JSON.stringify(a)),{success:!0,user:a}},t=async()=>{r.value=null,localStorage.removeItem("user"),await n("/auth/login")};return{user:i(()=>r.value),isAuthenticated:l,role:m,login:s,logout:t}};export{g as u};
