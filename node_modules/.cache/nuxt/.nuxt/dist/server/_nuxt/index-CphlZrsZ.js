import { _ as _sfc_main$1, d as __nuxt_component_0 } from "../server.mjs";
import { defineComponent, ref, computed, mergeProps, unref, withCtx, createVNode, createTextVNode, useSSRContext } from "vue";
import { ssrRenderAttrs, ssrRenderComponent, ssrInterpolate, ssrRenderAttr, ssrIncludeBooleanAttr, ssrLooseContain, ssrLooseEqual, ssrRenderList, ssrRenderClass } from "vue/server-renderer";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/hookable/dist/index.mjs";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/ofetch/dist/node.mjs";
import "#internal/nuxt/paths";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/unctx/dist/index.mjs";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/h3/dist/index.mjs";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/ufo/dist/index.mjs";
import "pinia";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/defu/dist/defu.mjs";
import "vue-router";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/klona/dist/index.mjs";
import "tailwindcss/colors";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/@unhead/vue/dist/index.mjs";
import "@iconify/vue";
import "@iconify/utils/lib/css/icon";
import "/home/runner/work/Koperasi-Frontend/Koperasi-Frontend/node_modules/perfect-debounce/dist/index.mjs";
import "reka-ui";
import "@vueuse/core";
import "tailwind-variants";
import "ohash/utils";
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "index",
  __ssrInlineRender: true,
  setup(__props) {
    const cooperatives = ref([
      {
        id: 1,
        name: "Koperasi Sejahtera Mandiri",
        subdomain: "sejahtera-mandiri",
        skAhu: "AHU-0012340-KOP-2025",
        province: "Jawa Barat",
        city: "Bandung",
        picName: "Ahmad Fauzi",
        picEmail: "ahmad@sejahtera.com",
        picPhone: "081234567890",
        totalMembers: 156,
        joinedAt: "2025-08-15",
        lastActive: "2026-02-20 09:30",
        status: "ACTIVE",
        subscriptionExpiry: "2027-08-15"
      },
      {
        id: 2,
        name: "Koperasi Unit Desa Makmur",
        subdomain: "kud-makmur",
        skAhu: "AHU-0012341-KOP-2025",
        province: "Jawa Tengah",
        city: "Semarang",
        picName: "Siti Rahayu",
        picEmail: "siti@kudmakmur.com",
        picPhone: "082345678901",
        totalMembers: 203,
        joinedAt: "2025-09-20",
        lastActive: "2026-02-19 15:22",
        status: "ACTIVE",
        subscriptionExpiry: "2027-09-20"
      },
      {
        id: 3,
        name: "Koperasi Simpan Pinjam Bersama",
        subdomain: "ksp-bersama",
        skAhu: "AHU-0012342-KOP-2025",
        province: "Jawa Timur",
        city: "Surabaya",
        picName: "Budi Hartono",
        picEmail: "budi@kspbersama.com",
        picPhone: "083456789012",
        totalMembers: 89,
        joinedAt: "2025-10-05",
        lastActive: "2026-02-15 11:05",
        status: "SUSPENDED",
        subscriptionExpiry: "2026-02-10"
      }
    ]);
    const searchQuery = ref("");
    const filterStatus = ref("ALL");
    const sortBy = ref("joined");
    const sortOrder = ref("desc");
    const filteredCooperatives = computed(() => {
      let filtered = [...cooperatives.value];
      if (filterStatus.value !== "ALL") {
        filtered = filtered.filter((coop) => coop.status === filterStatus.value);
      }
      if (searchQuery.value) {
        const query = searchQuery.value.toLowerCase();
        filtered = filtered.filter(
          (coop) => coop.name.toLowerCase().includes(query) || coop.subdomain.toLowerCase().includes(query) || coop.city.toLowerCase().includes(query)
        );
      }
      filtered.sort((a, b) => {
        let comparison = 0;
        switch (sortBy.value) {
          case "name":
            comparison = a.name.localeCompare(b.name);
            break;
          case "members":
            comparison = a.totalMembers - b.totalMembers;
            break;
          case "joined":
            comparison = new Date(a.joinedAt).getTime() - new Date(b.joinedAt).getTime();
            break;
        }
        return sortOrder.value === "asc" ? comparison : -comparison;
      });
      return filtered;
    });
    const statusCounts = computed(() => ({
      all: cooperatives.value.length,
      active: cooperatives.value.filter((c) => c.status === "ACTIVE").length,
      suspended: cooperatives.value.filter((c) => c.status === "SUSPENDED").length,
      inactive: cooperatives.value.filter((c) => c.status === "INACTIVE").length
    }));
    const totalMembers = computed(
      () => cooperatives.value.reduce((sum, coop) => sum + coop.totalMembers, 0)
    );
    const getStatusBadge = (status) => {
      switch (status) {
        case "ACTIVE":
          return { class: "bg-green-100 text-green-800", icon: "i-lucide-check-circle", label: "Aktif" };
        case "SUSPENDED":
          return { class: "bg-red-100 text-red-800", icon: "i-lucide-pause-circle", label: "Disuspen" };
        case "INACTIVE":
          return { class: "bg-gray-100 text-gray-800", icon: "i-lucide-circle", label: "Tidak Aktif" };
        default:
          return { class: "bg-gray-100 text-gray-800", icon: "i-lucide-circle", label: status };
      }
    };
    const formatDate = (date) => {
      return new Date(date).toLocaleDateString("id-ID", {
        year: "numeric",
        month: "short",
        day: "numeric"
      });
    };
    const getLastActiveColor = (lastActive) => {
      const diff = Date.now() - new Date(lastActive).getTime();
      const days = diff / (1e3 * 60 * 60 * 24);
      if (days < 1) return "text-green-600";
      if (days < 7) return "text-yellow-600";
      return "text-red-600";
    };
    return (_ctx, _push, _parent, _attrs) => {
      const _component_UIcon = _sfc_main$1;
      const _component_NuxtLink = __nuxt_component_0;
      _push(`<div${ssrRenderAttrs(mergeProps({ class: "space-y-6" }, _attrs))}><div class="sm:flex sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">Koperasi Aktif</h1><p class="text-sm text-gray-600 mt-1">Kelola koperasi yang sudah terdaftar dalam sistem</p></div><div class="mt-4 sm:mt-0"><button class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-download",
        class: "w-4 h-4"
      }, null, _parent));
      _push(` Export Data </button></div></div><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"><div class="bg-white shadow rounded-lg p-5"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">Total Koperasi</p><p class="text-2xl font-bold text-gray-900 mt-1">${ssrInterpolate(unref(statusCounts).all)}</p></div><div class="h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-building-2",
        class: "w-6 h-6 text-blue-600"
      }, null, _parent));
      _push(`</div></div></div><div class="bg-white shadow rounded-lg p-5"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">Koperasi Aktif</p><p class="text-2xl font-bold text-green-600 mt-1">${ssrInterpolate(unref(statusCounts).active)}</p></div><div class="h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-check-circle",
        class: "w-6 h-6 text-green-600"
      }, null, _parent));
      _push(`</div></div></div><div class="bg-white shadow rounded-lg p-5"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">Total Anggota</p><p class="text-2xl font-bold text-gray-900 mt-1">${ssrInterpolate(unref(totalMembers).toLocaleString())}</p></div><div class="h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-users",
        class: "w-6 h-6 text-purple-600"
      }, null, _parent));
      _push(`</div></div></div><div class="bg-white shadow rounded-lg p-5"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">Disuspen</p><p class="text-2xl font-bold text-red-600 mt-1">${ssrInterpolate(unref(statusCounts).suspended)}</p></div><div class="h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-pause-circle",
        class: "w-6 h-6 text-red-600"
      }, null, _parent));
      _push(`</div></div></div></div><div class="bg-white shadow rounded-lg"><div class="p-4 border-b border-gray-200"><div class="flex flex-col sm:flex-row gap-4"><div class="flex-1"><div class="relative"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: "i-lucide-search",
        class: "h-5 w-5 text-gray-400"
      }, null, _parent));
      _push(`</div><input${ssrRenderAttr("value", unref(searchQuery))} type="text" placeholder="Cari nama koperasi, subdomain, atau kota..." class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"></div></div><div class="flex items-center gap-2"><label class="text-sm font-medium text-gray-700 whitespace-nowrap">Status:</label><select class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"><option value="ALL"${ssrIncludeBooleanAttr(Array.isArray(unref(filterStatus)) ? ssrLooseContain(unref(filterStatus), "ALL") : ssrLooseEqual(unref(filterStatus), "ALL")) ? " selected" : ""}>Semua</option><option value="ACTIVE"${ssrIncludeBooleanAttr(Array.isArray(unref(filterStatus)) ? ssrLooseContain(unref(filterStatus), "ACTIVE") : ssrLooseEqual(unref(filterStatus), "ACTIVE")) ? " selected" : ""}>Aktif</option><option value="SUSPENDED"${ssrIncludeBooleanAttr(Array.isArray(unref(filterStatus)) ? ssrLooseContain(unref(filterStatus), "SUSPENDED") : ssrLooseEqual(unref(filterStatus), "SUSPENDED")) ? " selected" : ""}>Disuspen</option><option value="INACTIVE"${ssrIncludeBooleanAttr(Array.isArray(unref(filterStatus)) ? ssrLooseContain(unref(filterStatus), "INACTIVE") : ssrLooseEqual(unref(filterStatus), "INACTIVE")) ? " selected" : ""}>Tidak Aktif</option></select></div><div class="flex items-center gap-2"><label class="text-sm font-medium text-gray-700 whitespace-nowrap">Urutkan:</label><select class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"><option value="joined"${ssrIncludeBooleanAttr(Array.isArray(unref(sortBy)) ? ssrLooseContain(unref(sortBy), "joined") : ssrLooseEqual(unref(sortBy), "joined")) ? " selected" : ""}>Tanggal Gabung</option><option value="name"${ssrIncludeBooleanAttr(Array.isArray(unref(sortBy)) ? ssrLooseContain(unref(sortBy), "name") : ssrLooseEqual(unref(sortBy), "name")) ? " selected" : ""}>Nama</option><option value="members"${ssrIncludeBooleanAttr(Array.isArray(unref(sortBy)) ? ssrLooseContain(unref(sortBy), "members") : ssrLooseEqual(unref(sortBy), "members")) ? " selected" : ""}>Jumlah Anggota</option></select><button class="p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">`);
      _push(ssrRenderComponent(_component_UIcon, {
        name: unref(sortOrder) === "asc" ? "i-lucide-arrow-up" : "i-lucide-arrow-down",
        class: "w-4 h-4 text-gray-600"
      }, null, _parent));
      _push(`</button></div></div></div><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Koperasi </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Lokasi </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> PIC </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Anggota </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Aktivitas Terakhir </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Status </th><th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> Aksi </th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><!--[-->`);
      ssrRenderList(unref(filteredCooperatives), (coop) => {
        _push(`<tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4"><div class="flex items-center"><div class="flex-shrink-0 h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center">`);
        _push(ssrRenderComponent(_component_UIcon, {
          name: "i-lucide-building-2",
          class: "h-5 w-5 text-red-600"
        }, null, _parent));
        _push(`</div><div class="ml-4"><div class="text-sm font-medium text-gray-900">${ssrInterpolate(coop.name)}</div><div class="text-xs text-gray-500">${ssrInterpolate(coop.subdomain)}.koperasi.com</div><div class="text-xs text-gray-400 mt-0.5"> Gabung ${ssrInterpolate(formatDate(coop.joinedAt))}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900">${ssrInterpolate(coop.city)}</div><div class="text-xs text-gray-500">${ssrInterpolate(coop.province)}</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900">${ssrInterpolate(coop.picName)}</div><div class="text-xs text-gray-500">${ssrInterpolate(coop.picEmail)}</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-semibold text-gray-900">${ssrInterpolate(coop.totalMembers)}</div><div class="text-xs text-gray-500">anggota</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="${ssrRenderClass([getLastActiveColor(coop.lastActive), "text-xs"])}">${ssrInterpolate(coop.lastActive)}</div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${ssrRenderClass([
          "inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium",
          getStatusBadge(coop.status).class
        ])}">`);
        _push(ssrRenderComponent(_component_UIcon, {
          name: getStatusBadge(coop.status).icon,
          class: "w-3 h-3"
        }, null, _parent));
        _push(` ${ssrInterpolate(getStatusBadge(coop.status).label)}</span></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">`);
        _push(ssrRenderComponent(_component_NuxtLink, {
          to: `/admin/koperasi/${coop.id}`,
          class: "text-red-600 hover:text-red-900 inline-flex items-center gap-1"
        }, {
          default: withCtx((_, _push2, _parent2, _scopeId) => {
            if (_push2) {
              _push2(ssrRenderComponent(_component_UIcon, {
                name: "i-lucide-eye",
                class: "w-4 h-4"
              }, null, _parent2, _scopeId));
              _push2(` Detail `);
            } else {
              return [
                createVNode(_component_UIcon, {
                  name: "i-lucide-eye",
                  class: "w-4 h-4"
                }),
                createTextVNode(" Detail ")
              ];
            }
          }),
          _: 2
        }, _parent));
        _push(`</td></tr>`);
      });
      _push(`<!--]--></tbody></table>`);
      if (unref(filteredCooperatives).length === 0) {
        _push(`<div class="text-center py-12">`);
        _push(ssrRenderComponent(_component_UIcon, {
          name: "i-lucide-building-2",
          class: "mx-auto h-12 w-12 text-gray-400"
        }, null, _parent));
        _push(`<h3 class="mt-2 text-sm font-medium text-gray-900">Tidak ada koperasi</h3><p class="mt-1 text-sm text-gray-500">${ssrInterpolate(unref(searchQuery) ? "Tidak ditemukan hasil pencarian" : "Belum ada koperasi terdaftar")}</p></div>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</div></div></div>`);
    };
  }
});
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("pages/superadmin/koperasi/index.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
export {
  _sfc_main as default
};
//# sourceMappingURL=index-CphlZrsZ.js.map
