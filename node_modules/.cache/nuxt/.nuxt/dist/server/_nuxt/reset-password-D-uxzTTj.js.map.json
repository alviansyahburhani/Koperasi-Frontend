{"file":"reset-password-D-uxzTTj.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrRenderClass","_unref","_ssrRenderStyle","_ssrInterpolate","_ssrIncludeBooleanAttr","_push","_parent"],"sources":["../../../../../../../app/pages/auth/reset-password.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { reactive, ref } from 'vue'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst token = ref((route.query.token as string) || '')\nconst loading = ref(false)\nconst showPassword = ref(false)\nconst showPasswordConfirm = ref(false)\nconst step = ref<'form' | 'success' | 'invalid'>('form')\n\nconst form = reactive({\n  password: '',\n  passwordConfirm: '',\n})\n\nconst passwordStrength = computed(() => {\n  const pass = form.password\n  if (pass.length === 0) return { label: '', color: '', width: '0%' }\n  if (pass.length < 6) return { label: 'Lemah', color: 'bg-red-500', width: '25%' }\n  if (pass.length < 8) return { label: 'Sedang', color: 'bg-yellow-500', width: '50%' }\n  if (pass.length < 12) return { label: 'Kuat', color: 'bg-green-500', width: '75%' }\n  return { label: 'Sangat Kuat', color: 'bg-green-600', width: '100%' }\n})\n\nconst isValid = computed(() => {\n  return form.password.length >= 8 && form.password === form.passwordConfirm\n})\n\n// Validasi token saat mount\nonMounted(async () => {\n  if (!token.value) {\n    step.value = 'invalid'\n    return\n  }\n\n  // Validasi token ke backend\n  // try {\n  //   await $fetch('/api/auth/validate-reset-token', {\n  //     method: 'POST',\n  //     body: { token: token.value }\n  //   })\n  // } catch {\n  //   step.value = 'invalid'\n  // }\n})\n\nconst handleSubmit = async () => {\n  if (!isValid.value) return\n\n  loading.value = true\n\n  try {\n    // Call API untuk reset password\n    // await $fetch('/api/auth/reset-password', {\n    //   method: 'POST',\n    //   body: {\n    //     token: token.value,\n    //     password: form.password\n    //   }\n    // })\n\n    setTimeout(() => {\n      loading.value = false\n      step.value = 'success'\n\n      // Redirect ke login setelah 3 detik\n      setTimeout(() => {\n        router.push('/login')\n      }, 3000)\n    }, 1500)\n  } catch {\n    loading.value = false\n    // Error intentionally ignored\n  }\n}\n</script>\n\n<template>\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4\">\n    <div class=\"max-w-md w-full bg-white rounded-lg shadow-md p-8\">\n      <!-- FORM: Reset Password -->\n      <div v-if=\"step === 'form'\">\n        <div class=\"text-center mb-6\">\n          <div\n            class=\"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\"\n          >\n            <UIcon name=\"i-lucide-key-round\" class=\"w-8 h-8 text-red-600\" />\n          </div>\n          <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Buat Kata Sandi Baru</h1>\n          <p class=\"text-sm text-gray-600\">\n            Kata sandi baru harus berbeda dari kata sandi sebelumnya.\n          </p>\n        </div>\n\n        <form class=\"space-y-4\" @submit.prevent=\"handleSubmit\">\n          <!-- Password Baru -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n              Kata Sandi Baru <span class=\"text-red-500\">*</span>\n            </label>\n            <div class=\"relative\">\n              <input\n                v-model=\"form.password\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                required\n                placeholder=\"Minimal 8 karakter\"\n                class=\"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n              >\n              <button\n                type=\"button\"\n                class=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                @click=\"showPassword = !showPassword\"\n              >\n                <UIcon :name=\"showPassword ? 'i-lucide-eye-off' : 'i-lucide-eye'\" class=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            <!-- Password Strength Indicator -->\n            <div v-if=\"form.password\" class=\"mt-2\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden\">\n                  <div\n                    class=\"h-full transition-all duration-300\"\n                    :class=\"passwordStrength.color\"\n                    :style=\"{ width: passwordStrength.width }\"\n                  />\n                </div>\n                <span\n                  class=\"text-xs font-medium\"\n                  :class=\"`text-${passwordStrength.color.replace('bg-', '')}`\"\n                >\n                  {{ passwordStrength.label }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Konfirmasi Password -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n              Konfirmasi Kata Sandi <span class=\"text-red-500\">*</span>\n            </label>\n            <div class=\"relative\">\n              <input\n                v-model=\"form.passwordConfirm\"\n                :type=\"showPasswordConfirm ? 'text' : 'password'\"\n                required\n                placeholder=\"Ketik ulang kata sandi\"\n                class=\"w-full px-3 py-2.5 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n              >\n              <button\n                type=\"button\"\n                class=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                @click=\"showPasswordConfirm = !showPasswordConfirm\"\n              >\n                <UIcon\n                  :name=\"showPasswordConfirm ? 'i-lucide-eye-off' : 'i-lucide-eye'\"\n                  class=\"w-4 h-4\"\n                />\n              </button>\n            </div>\n\n            <!-- Password Match Indicator -->\n            <p\n              v-if=\"form.passwordConfirm && form.password !== form.passwordConfirm\"\n              class=\"text-xs text-red-600 mt-1\"\n            >\n              <UIcon name=\"i-lucide-x-circle\" class=\"w-3 h-3 inline\" />\n              Kata sandi tidak cocok\n            </p>\n            <p\n              v-if=\"form.passwordConfirm && form.password === form.passwordConfirm\"\n              class=\"text-xs text-green-600 mt-1\"\n            >\n              <UIcon name=\"i-lucide-check-circle\" class=\"w-3 h-3 inline\" />\n              Kata sandi cocok\n            </p>\n          </div>\n\n          <!-- Requirements -->\n          <div class=\"bg-gray-50 border border-gray-200 rounded-md p-3\">\n            <p class=\"text-xs font-medium text-gray-700 mb-2\">Kata sandi harus:</p>\n            <ul class=\"text-xs text-gray-600 space-y-1\">\n              <li class=\"flex items-center gap-1\">\n                <UIcon\n                  :name=\"form.password.length >= 8 ? 'i-lucide-check' : 'i-lucide-minus'\"\n                  :class=\"form.password.length >= 8 ? 'text-green-600' : 'text-gray-400'\"\n                  class=\"w-3 h-3\"\n                />\n                Minimal 8 karakter\n              </li>\n              <li class=\"flex items-center gap-1\">\n                <UIcon\n                  :name=\"/[A-Z]/.test(form.password) ? 'i-lucide-check' : 'i-lucide-minus'\"\n                  :class=\"/[A-Z]/.test(form.password) ? 'text-green-600' : 'text-gray-400'\"\n                  class=\"w-3 h-3\"\n                />\n                Mengandung huruf besar\n              </li>\n              <li class=\"flex items-center gap-1\">\n                <UIcon\n                  :name=\"/[0-9]/.test(form.password) ? 'i-lucide-check' : 'i-lucide-minus'\"\n                  :class=\"/[0-9]/.test(form.password) ? 'text-green-600' : 'text-gray-400'\"\n                  class=\"w-3 h-3\"\n                />\n                Mengandung angka\n              </li>\n            </ul>\n          </div>\n\n          <button\n            type=\"submit\"\n            :disabled=\"loading || !isValid\"\n            class=\"w-full px-6 py-2.5 bg-red-700 text-white text-sm font-semibold rounded-md hover:bg-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {{ loading ? 'Memproses...' : 'Atur Ulang Kata Sandi' }}\n          </button>\n        </form>\n      </div>\n\n      <!-- SUCCESS -->\n      <div v-if=\"step === 'success'\" class=\"text-center\">\n        <div\n          class=\"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4\"\n        >\n          <UIcon name=\"i-lucide-check-circle-2\" class=\"w-8 h-8 text-green-600\" />\n        </div>\n        <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Berhasil!</h1>\n        <p class=\"text-sm text-gray-600 mb-6\">\n          Kata sandi Anda telah berhasil diatur ulang. Anda akan dialihkan ke halaman login...\n        </p>\n        <div class=\"flex justify-center\">\n          <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600\"/>\n        </div>\n      </div>\n\n      <!-- INVALID TOKEN -->\n      <div v-if=\"step === 'invalid'\" class=\"text-center\">\n        <div\n          class=\"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\"\n        >\n          <UIcon name=\"i-lucide-alert-circle\" class=\"w-8 h-8 text-red-600\" />\n        </div>\n        <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Link Tidak Valid</h1>\n        <p class=\"text-sm text-gray-600 mb-6\">\n          Link reset password sudah kadaluarsa atau tidak valid. Silakan minta link baru.\n        </p>\n        <NuxtLink\n          to=\"/lupa-password\"\n          class=\"inline-block px-6 py-2.5 bg-red-700 text-white text-sm font-semibold rounded-md hover:bg-red-800 transition-colors\"\n        >\n          Minta Link Baru\n        </NuxtLink>\n      </div>\n    </div>\n  </div>\n</template>\n"],"version":3}