{"version":3,"file":"roles-CZAztYEA.js","sources":["../../../../../../../app/utils/roles.ts"],"sourcesContent":["import { Role, Permission } from '~/types'\n\nexport const RoleConfig = {\n  [Role.SUPERADMIN]: {\n    label: 'Super Admin',\n    color: 'purple',\n    dashboardRoute: '/superadmin',\n    layout: 'superadmin',\n  },\n  [Role.KETUA]: {\n    label: 'Ketua Koperasi',\n    color: 'red',\n    dashboardRoute: '/dashboard',\n    layout: 'dashboard',\n  },\n  [Role.SEKRETARIS]: {\n    label: 'Sekretaris',\n    color: 'blue',\n    dashboardRoute: '/dashboard',\n    layout: 'dashboard',\n  },\n  [Role.BENDAHARA]: {\n    label: 'Bendahara',\n    color: 'green',\n    dashboardRoute: '/dashboard',\n    layout: 'dashboard',\n  },\n  [Role.PENGAWAS]: {\n    label: 'Pengawas',\n    color: 'orange',\n    dashboardRoute: '/dashboard',\n    layout: 'dashboard',\n  },\n  [Role.ANGGOTA]: {\n    label: 'Anggota',\n    color: 'gray',\n    dashboardRoute: '/dashboard',\n    layout: 'dashboard',\n  },\n} as const\n\n// âœ… Fix: Better type definition\ntype PermissionList = Permission[] | readonly ['*']\n\nexport const RolePermissions: Record<Role, PermissionList> = {\n  [Role.SUPERADMIN]: ['*'] as const,\n\n  [Role.KETUA]: [\n    Permission.VIEW_ANGGOTA,\n    Permission.CREATE_ANGGOTA,\n    Permission.UPDATE_ANGGOTA,\n    Permission.DELETE_ANGGOTA,\n    Permission.VIEW_SIMPANAN,\n    Permission.CREATE_SIMPANAN,\n    Permission.VIEW_PINJAMAN,\n    Permission.CREATE_PINJAMAN,\n    Permission.APPROVE_PINJAMAN,\n    Permission.VIEW_LAPORAN,\n    Permission.EXPORT_LAPORAN,\n    Permission.MANAGE_SETTINGS,\n    Permission.MANAGE_USERS,\n  ],\n\n  [Role.SEKRETARIS]: [\n    Permission.VIEW_ANGGOTA,\n    Permission.CREATE_ANGGOTA,\n    Permission.UPDATE_ANGGOTA,\n    Permission.VIEW_SIMPANAN,\n    Permission.VIEW_PINJAMAN,\n    Permission.VIEW_LAPORAN,\n  ],\n\n  [Role.BENDAHARA]: [\n    Permission.VIEW_ANGGOTA,\n    Permission.VIEW_SIMPANAN,\n    Permission.CREATE_SIMPANAN,\n    Permission.UPDATE_SIMPANAN,\n    Permission.VIEW_PINJAMAN,\n    Permission.DISBURSE_PINJAMAN,\n    Permission.VIEW_LAPORAN,\n    Permission.EXPORT_LAPORAN,\n  ],\n\n  [Role.PENGAWAS]: [\n    Permission.VIEW_ANGGOTA,\n    Permission.VIEW_SIMPANAN,\n    Permission.VIEW_PINJAMAN,\n    Permission.VIEW_LAPORAN,\n    Permission.EXPORT_LAPORAN,\n    Permission.VIEW_AUDIT,\n  ],\n\n  [Role.ANGGOTA]: [Permission.VIEW_SIMPANAN, Permission.VIEW_PINJAMAN, Permission.CREATE_PINJAMAN],\n}\n\nexport function getRolePermissions(role: Role): PermissionList {\n  return RolePermissions[role] || []\n}\n\nexport function hasPermission(userRole: Role, permission: Permission): boolean {\n  const permissions = getRolePermissions(userRole)\n\n  // Check for wildcard permission\n  if (permissions.length === 1 && permissions[0] === '*') {\n    return true\n  }\n\n  return (permissions as Permission[]).includes(permission)\n}\n"],"names":[],"mappings":";AAEO,MAAM,aAAa;AAAA,EACxB,CAAC,KAAK,UAAU,GAAG;AAAA,IACjB,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAAA,EAEV,CAAC,KAAK,KAAK,GAAG;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAAA,EAEV,CAAC,KAAK,UAAU,GAAG;AAAA,IACjB,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAAA,EAEV,CAAC,KAAK,SAAS,GAAG;AAAA,IAChB,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAAA,EAEV,CAAC,KAAK,QAAQ,GAAG;AAAA,IACf,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAAA,EAEV,CAAC,KAAK,OAAO,GAAG;AAAA,IACd,OAAO;AAAA,IACP,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,QAAQ;AAAA,EAAA;AAEZ;AAKO,MAAM,kBAAgD;AAAA,EAC3D,CAAC,KAAK,UAAU,GAAG,CAAC,GAAG;AAAA,EAEvB,CAAC,KAAK,KAAK,GAAG;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,EAAA;AAAA,EAGb,CAAC,KAAK,UAAU,GAAG;AAAA,IACjB,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,EAAA;AAAA,EAGb,CAAC,KAAK,SAAS,GAAG;AAAA,IAChB,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,EAAA;AAAA,EAGb,CAAC,KAAK,QAAQ,GAAG;AAAA,IACf,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,EAAA;AAAA,EAGb,CAAC,KAAK,OAAO,GAAG,CAAC,WAAW,eAAe,WAAW,eAAe,WAAW,eAAe;AACjG;AAEO,SAAS,mBAAmB,MAA4B;AAC7D,SAAO,gBAAgB,IAAI,KAAK,CAAA;AAClC;AAEO,SAAS,cAAc,UAAgB,YAAiC;AAC7E,QAAM,cAAc,mBAAmB,QAAQ;AAG/C,MAAI,YAAY,WAAW,KAAK,YAAY,CAAC,MAAM,KAAK;AACtD,WAAO;AAAA,EACT;AAEA,SAAQ,YAA6B,SAAS,UAAU;AAC1D;"}