import { R as Role } from "./index-BLubklIF.js";
import { k as useState, n as navigateTo } from "../server.mjs";
import { computed } from "vue";
const useAuth = () => {
  const user = useState("auth-user", () => {
    return null;
  });
  const isAuthenticated = computed(() => !!user.value);
  const role = computed(() => user.value?.role ?? null);
  const login = async (credentials) => {
    let userData = null;
    if (credentials.email === "superadmin@koperasi.com") {
      userData = {
        id: "1",
        // ✅ String instead of number
        name: "Super Admin",
        email: credentials.email,
        role: Role.SUPERADMIN
      };
    } else if (credentials.email === "ketua@koperasi.com") {
      userData = {
        id: "2",
        // ✅ String
        name: "Ketua Koperasi",
        email: credentials.email,
        role: Role.KETUA,
        cooperativeId: "1"
        // ✅ String
      };
    } else if (credentials.email === "bendahara@koperasi.com") {
      userData = {
        id: "3",
        name: "Bendahara",
        email: credentials.email,
        role: Role.BENDAHARA,
        cooperativeId: "1"
      };
    } else if (credentials.email === "sekretaris@koperasi.com") {
      userData = {
        id: "4",
        // ✅ String
        name: "Sekretaris",
        email: credentials.email,
        role: Role.SEKRETARIS,
        cooperativeId: "1"
        // ✅ String
      };
    } else if (credentials.email === "pengawas@koperasi.com") {
      userData = {
        id: "5",
        // ✅ String
        name: "Pengawas",
        email: credentials.email,
        role: Role.PENGAWAS,
        cooperativeId: "1"
        // ✅ String
      };
    } else if (credentials.email === "anggota@koperasi.com") {
      userData = {
        id: "6",
        // ✅ String
        name: "Anggota Koperasi",
        email: credentials.email,
        role: Role.ANGGOTA,
        cooperativeId: "1"
        // ✅ String
      };
    } else {
      throw new Error("Email atau password salah");
    }
    user.value = userData;
    return { success: true, user: userData };
  };
  const logout = async () => {
    user.value = null;
    await navigateTo("/auth/login");
  };
  return {
    user: computed(() => user.value),
    isAuthenticated,
    role,
    login,
    logout
  };
};
export {
  useAuth as u
};
//# sourceMappingURL=useAuth-FzT0Z3nn.js.map
